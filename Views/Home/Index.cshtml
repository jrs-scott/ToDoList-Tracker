@{ ViewBag.Title = "Task Manager"; }

<div class="jumbotron" style="padding: 2rem;">
    <h1 class="display-4">Welcome to the Task Manager!</h1>
    <hr class="my-4" />
    <p style="font-size: 20px;">Get started by creating new tasks:</p>
    <form class="pt-2">
        <div class="form-group">
            <input class="w-25 rounded" data-bind="textInput: newTaskName" />
        </div>
        <div class="form-group">
            <button class="btn btn-info" data-bind="click: addTask">Add Task</button>
        </div>
    </form>
</div>

<!-- Render the to-do section when there are one or more active tasks -->
<div data-bind="visible: tasks().length > 0">
    <h2 class="text-center display-4" style="font-size: 2.5rem;">Current Tasks (<span data-bind="text: tasks().length"></span>)</h2>
    <table class="container-fluid col-lg-10 pt-lg-5">
        <thead>
            <tr class="row" style="font-size: 20px;">
                <th class="col-lg-8 text-center">Task Description</th>
                <th class="col text-right">Progress</th>
                <th class="col"></th>
            </tr>
        </thead>
        <tbody data-bind="foreach: tasks" style="color: white;">
            <tr class="row mb-2">
                <td class="col-lg-8 rounded-left px-2 pt-2" data-bind="style: { background: $data.status() == $root.statuses[0] ? 'darksalmon' : 'darkseagreen' }">
                    <p class="m-0" data-bind="text: name" style="font-size: 20px;"></p>
                </td>
                <td class="col pl-0 pt-2 text-right rounded-right" data-bind="style: { background: $data.status() == $root.statuses[0] ? 'darksalmon' : 'darkseagreen' }">
                    <select data-bind="options: $root.statuses, value: $data.status"></select>
                </td>
                <td class="col px-2">
                    <button class="btn btn-info btn-block btn-sm p-2" data-bind="click: $root.remove" style="font-size: 18px;">Complete Task</button>
                </td>
            </tr>
        </tbody>
    </table>
</div>

<!-- Render the completed task section when there are one or more completed tasks -->
<div data-bind="visible: completedTasks().length > 0">
    <h2 class="text-center display-4  pt-lg-5" style="font-size: 2.5rem;">Completed Tasks (<span data-bind="text: completedTasks().length"></span>)</h2>
    <div class="container-fluid col-10 px-0" data-bind="foreach: completedTasks">
        <div class="row mb-2">
            <div class="card col p-2" data-bind="text: name" style="font-size: 20px; background-color: #e9ecef;"></div>
        </div>
    </div>
</div>

<script type='text/javascript' src='/Scripts/knockout-3.5.0.js'></script>
<script type='text/javascript' src='/Scripts/mainApp.js' defer></script> <!-- Logic for knockout functions -->